---
import {
	ArrowUpRight,
	Code,
	Globe,
	Mail,
	Monitor,
	Palette,
	Smartphone,
	Zap,
} from "@lucide/astro";
import { siteConfig } from "@/config/site.js";
import experiences from "@/collections/experiences.json";
import social from "@/collections/social.json";
import AboutExperience from "@/components/elements/AboutExperience.astro";
import Button from "@/components/ui/Button.astro";
import Layout from "@/layouts/Layout.astro";
import Toc from "@/components/widgets/Toc.astro";

// Manually define page table of contents structure
const headings = [
  { depth: 2, slug: "sobre-mi", text: "Sobre Mí" },
  { depth: 2, slug: "habilidades", text: "Habilidades" },
  { depth: 2, slug: "experiencia", text: "Experiencia" },
  { depth: 2, slug: "contacto", text: "Contacto" },
];

const filtered = headings.filter(h => h.depth <= 3);

---

<Layout title="Sobre Mí">
  <!-- Mobile TOC -->
  <div class="block lg:hidden px-7 pt-6">
    <Toc headings={filtered} />
  </div>

  <!-- Main container -->
  <div class="relative site-container  mx-auto my-8">
    <div class="flex flex-col lg:flex-row gap-8 lg:gap-12 xl:gap-16">
      <!-- Left TOC - Fixed on desktop -->
      <aside class="relative hidden lg:block lg:w-40 xl:w-50 flex-shrink-0">
          <div class="toc-sticky-wrapper">
            <Toc headings={filtered} />
          </div>
      </aside>

      <!-- Right main content - Adaptive width -->
      <main class="relative flex-1 min-w-0 w-full lg:max-w-none">
        <div
          class="w-full"
          data-aos="fade-up-xs"
          data-aos-duration="500"
          data-aos-once="true"
        >
            <h2
              id="sobre-mi"
              class="text-2xl font-brand tracking-tight  sm:text-3xl lg:text-4xl"
            >
             Sobre Mí
            </h2>
            <div class="w-full border-b-1 border-dashed border-b-gray-200 dark:border-b-neutral-700 mt-4 mb-8"></div>
      </div>

        <div
          class="flex items-center gap-3 mb-6"
          data-aos="fade-up-xs"
          data-aos-delay="100"
          data-aos-duration="500"
          data-aos-once="true"
        >
            <img src="/assets/avatar.png" alt="Anthony Hemba" class="w-14 h-14 rounded-full">
            <div class="flex items-center gap-3">
              <a href="#" class="font-brand text-[24px] text-neutral-700 dark:text-neutral-100">Anthony Hemba</a>
              <span class="text-[0.75em] text-neutral-400">|</span>
              <a href="https://www.facebook.com/anthony.hemba.2025/" class="flex items-center gap-1 text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-200 text-sm" target="_blank">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512" class="w-4.5 h-4.5 fill-current">
                  <path d="M80 299.3V512H196V299.3h86.5l18-97.8H196V146.9c0-25.9 7.1-43.5 44.4-43.5H291V15.1C282.5 13.8 253.5 11 219.1 11 147.3 11 98 54.9 98 135.9v65.6H14v97.8H80z"/>
                </svg>
                Anthony Hemba
              </a>
            </div>
        </div>

        <p
          class="text-3xl mt-2 mb-2  font-brand italic text-left text-primary-strong dark:text-primary-light"
          data-aos="fade-up-xs"
          data-aos-delay="200"
          data-aos-duration="500"
          data-aos-once="true"
        >"Transformando necesidades locales en soluciones tecnológicas eficientes."</p>
        <!-- <div class="w-full border-b-1 border-dashed border-b-gray-200 dark:border-b-neutral-700 mt-4 mb-8"></div> -->

        <div
          class="social"
          data-aos="fade-up-xs"
          data-aos-delay="300"
          data-aos-duration="600"
          data-aos-once="true"
        >
             <div class="social-list flex flex-wrap gap-2 items-center justify-start mt-6 mb-8">
                {social
                  .filter(item => item.isShow !== false)
                  .map((item, index) => (
                    <a
                      href={item.url}
                      target="_blank"
                      rel="noopener noreferrer"
                      class="social-item relative group overflow-hidden rounded-xl transition-all duration-300 hover:-translate-y-2 hover:rotate-[-6deg] hover:shadow-lg"
                      data-aos="fade-up-xs"
                      data-aos-delay={400 + (index * 50)}
                      data-aos-duration="400"
                      data-aos-once="true"
                    >
                      <img
                        src={item.image}
                        alt={item.name}
                        class="w-[96px] h-[96px] rounded-xl object-cover transition-transform duration-300 group-hover:scale-105"
                      />
                      <div class="absolute bottom-[10px] left-[12px] z-10">
                        <div class="social-name font-semibold text-[10px] text-white drop-shadow-md">
                          {item.name}
                        </div>
                        <div class="social-username text-[9px] text-white/85 drop-shadow-sm">
                          @{item.username}
                        </div>
                      </div>
                      {/* Hover overlay */}
                      {/* <div class="absolute inset-0 bg-gradient-to-t from-black/40 via-black/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-xl"></div> */}
                    </a>
                  ))
                }
             </div>
        </div>

        <div class="w-full border-b-1 border-dashed border-b-gray-200 dark:border-b-neutral-700 mt-4 mb-8"></div>


        <p
          class="text-xl font-medium text-left text-neutral-800 dark:text-neutral-100"
          data-aos="fade-up-xs"
          data-aos-delay="100"
          data-aos-duration="500"
          data-aos-once="true"
        >
          Soy Anthony Hemba, desarrollador de software.
        </p>
        <p
          class="text-neutral-700 pb-4 pt-4 leading-[1.8] dark:text-neutral-200"
          data-aos="fade-up-xs"
          data-aos-delay="200"
          data-aos-duration="500"
          data-aos-once="true"
        >
          Soy un desarrollador apasionado por la creación de sistemas que impactan el mundo real. Mi enfoque combina el desarrollo web y móvil con un fuerte interés en la Inteligencia Artificial y el diseño de interfaces funcionales.
        </p>
        <p
          class="text-neutral-700  leading-[1.8] dark:text-neutral-200"
          data-aos="fade-up-xs"
          data-aos-delay="300"
          data-aos-duration="500"
          data-aos-once="true"
        >
          Me motiva construir herramientas que optimicen procesos, desde la logística de transporte hasta la gestión administrativa. Poseo una visión integral que abarca desde la gestión de bases de datos hasta la reparación de hardware.
        </p>


        <div
          class="mt-8 mb-16 flex item-center justify-start gap-3"
          data-aos="fade-up-xs"
          data-aos-delay="400"
          data-aos-duration="500"
          data-aos-once="true"
        >
              <Button url="mailto:hembaanthony5@gmail.com" > <Mail  size={16} /> Contactar</Button>
              <Button url={siteConfig.resume} type="fill"> CV <ArrowUpRight  size={16} /> </Button>
        </div>

        <!-- <img src="/assets/about.jpg" class="relative z-30 w-full my-10 rounded-xl" /> -->

        <div class="w-full border-b-1 border-dashed border-b-neutral-200 dark:border-b-neutral-700 mt-4 mb-8"></div>
          <section>
              <h2
                id="habilidades"
                class="mt-8 mb-2 text-[28px] text-neutral-800  dark:text-neutral-200 font-brand"
                data-aos="fade-up-xs"
                data-aos-duration="500"
                data-aos-once="true"
              >Habilidades</h2>
              <div
                class="list flex flex-wrap gap-3 mt-4 mb-12 w-full items-center justify-start"
                data-aos="fade-up-xs"
                data-aos-delay="100"
                data-aos-duration="600"
                data-aos-once="true"
              >
                <!-- HTML -->
                <div class="item flex justify-start items-center flex-grow-0 flex-shrink-0 overflow-hidden gap-2 px-5 py-4 rounded-xl bg-gradient-to-b from-[f7f8f0] to-[#f1f2f9] dark:from-gray-900 dark:to-gray-800 dark:text-neutral-200">
                  <img src="https://cdn.simpleicons.org/html5" class="w-6 h-6 object-contain" alt="HTML5" />
                  <div class="text-base font-medium text-neutral-700 dark:text-neutral-200">HTML</div>
                </div>
                <!-- CSS -->
                <div class="item flex justify-start items-center flex-grow-0 flex-shrink-0 overflow-hidden gap-2 px-5 py-4 rounded-xl bg-gradient-to-b from-[f7f8f0] to-[#f1f2f9] dark:from-gray-900 dark:to-gray-800">
                  <img src="https://cdn.simpleicons.org/css3/3399FF" class="w-6 h-6 object-contain" alt="CSS3" />
                  <div class="text-base font-medium text-neutral-700 dark:text-neutral-200">CSS</div>
                </div>
                <!-- React -->
                <div class="item flex justify-start items-center flex-grow-0 flex-shrink-0 overflow-hidden gap-2 px-5 py-4 rounded-xl bg-gradient-to-b from-[f7f8f0] to-[#f1f2f9] dark:from-gray-900 dark:to-gray-800">
                  <img src="https://cdn.simpleicons.org/react/61DAFB" class="w-6 h-6 object-contain" alt="React" />
                  <div class="text-base font-medium text-neutral-700 dark:text-neutral-200">React</div>
                </div>
                <!-- SQL -->
                <div class="item flex justify-start items-center flex-grow-0 flex-shrink-0 overflow-hidden gap-2 px-5 py-4 rounded-xl bg-gradient-to-b from-[f7f8f0] to-[#f1f2f9] dark:from-gray-900 dark:to-gray-800">
                  <img src="https://cdn.simpleicons.org/sqlite/003B57" class="w-6 h-6 object-contain" alt="SQL" />
                  <div class="text-base font-medium text-neutral-700 dark:text-neutral-200">SQL</div>
                </div>
                <!-- PostgreSQL -->
                <div class="item flex justify-start items-center flex-grow-0 flex-shrink-0 overflow-hidden gap-2 px-5 py-4 rounded-xl bg-gradient-to-b from-[f7f8f0] to-[#f1f2f9] dark:from-gray-900 dark:to-gray-800">
                  <img src="https://cdn.simpleicons.org/postgresql/4169E1" class="w-6 h-6 object-contain" alt="PostgreSQL" />
                  <div class="text-base font-medium text-neutral-700 dark:text-neutral-200">PostgreSQL</div>
                </div>
                <!-- MySQL -->
                <div class="item flex justify-start items-center flex-grow-0 flex-shrink-0 overflow-hidden gap-2 px-5 py-4 rounded-xl bg-gradient-to-b from-[f7f8f0] to-[#f1f2f9] dark:from-gray-900 dark:to-gray-800">
                  <img src="https://cdn.simpleicons.org/mysql/4479A1" class="w-6 h-6 object-contain" alt="MySQL" />
                  <div class="text-base font-medium text-neutral-700 dark:text-neutral-200">MySQL</div>
                </div>
                <!-- C# -->
                <div class="item flex justify-start items-center flex-grow-0 flex-shrink-0 overflow-hidden gap-2 px-5 py-4 rounded-xl bg-gradient-to-b from-[f7f8f0] to-[#f1f2f9] dark:from-gray-900 dark:to-gray-800">
                  <img src="https://cdn.simpleicons.org/csharp/512BD4" class="w-6 h-6 object-contain" alt="C#" />
                  <div class="text-base font-medium text-neutral-700 dark:text-neutral-200">C#</div>
                </div>
                <!-- C++ -->
                <div class="item flex justify-start items-center flex-grow-0 flex-shrink-0 overflow-hidden gap-2 px-5 py-4 rounded-xl bg-gradient-to-b from-[f7f8f0] to-[#f1f2f9] dark:from-gray-900 dark:to-gray-800">
                  <img src="https://cdn.simpleicons.org/cplusplus" class="w-6 h-6 object-contain" alt="C++" />
                  <div class="text-base font-medium text-neutral-700 dark:text-neutral-200">C++</div>
                </div>
                <!-- Java -->
                <div class="item flex justify-start items-center flex-grow-0 flex-shrink-0 overflow-hidden gap-2 px-5 py-4 rounded-xl bg-gradient-to-b from-[f7f8f0] to-[#f1f2f9] dark:from-gray-900 dark:to-gray-800">
                  <img src="https://cdn.simpleicons.org/openjdk" class="w-6 h-6 object-contain" alt="Java" />
                  <div class="text-base font-medium text-neutral-700 dark:text-neutral-200">Java</div>
                </div>
                <!-- Python -->
                <div class="item flex justify-start items-center flex-grow-0 flex-shrink-0 overflow-hidden gap-2 px-5 py-4 rounded-xl bg-gradient-to-b from-[f7f8f0] to-[#f1f2f9] dark:from-gray-900 dark:to-gray-800">
                  <img src="https://cdn.simpleicons.org/python" class="w-6 h-6 object-contain" alt="Python" />
                  <div class="text-base font-medium text-neutral-700 dark:text-neutral-200">Python</div>
                </div>
                <!-- Power BI -->
                <div class="item flex justify-start items-center flex-grow-0 flex-shrink-0 overflow-hidden gap-2 px-5 py-4 rounded-xl bg-gradient-to-b from-[f7f8f0] to-[#f1f2f9] dark:from-gray-900 dark:to-gray-800">
                  <img src="https://cdn.simpleicons.org/powerbi" class="w-6 h-6 object-contain" alt="Power BI" />
                  <div class="text-base font-medium text-neutral-700 dark:text-neutral-200">Power BI</div>
                </div>
              </div>
          </section>

        <div class="w-full border-b-1 border-dashed border-b-gray-200 dark:border-b-neutral-700 mt-4 mb-8"></div>

      <section class="experience">
        <h2
          id="experiencia"
          class="mt-12 mb-4 text-[28px] text-neutral-800  dark:text-neutral-200 font-brand"
          data-aos="fade-up-xs"
          data-aos-duration="500"
          data-aos-once="true"
        >
          Experiencia
        </h2>
        <div
          class="px-5 py-10"
          data-aos="fade-up-xs"
          data-aos-delay="100"
          data-aos-duration="600"
          data-aos-once="true"
        >
          {
            experiences.map((experience, index) => {
              return (
                <div
                  class="pb-10 border-l border-dashed border-gray-200 last:border-l-0 dark:border-neutral-500"
                  data-aos="fade-up-xs"
                  data-aos-delay={200 + (index * 100)}
                  data-aos-duration="500"
                  data-aos-once="true"
                >
                  <AboutExperience
                    dates={experience.dates}
                    role={experience.role}
                    company={experience.company}
                    description={experience.description}
                    logo={experience.logo}
                  />
                </div>
              )
            })
          }
        </div>
      </section>
        <div class="w-full border-b-1 border-dashed border-b-gray-200 dark:border-b-neutral-700 mt-4 mb-8"></div>
      <section>
        <h2
          id="contacto"
          class="mt-12 mb-4 text-[28px] text-neutral-800  dark:text-neutral-200 font-brand"
          data-aos="fade-up-xs"
          data-aos-duration="500"
          data-aos-once="true"
        >Conectemos</h2>
        <p
          class="text-sm leading-6 text-neutral-700 dark:text-neutral-300"
          data-aos="fade-up-xs"
          data-aos-delay="100"
          data-aos-duration="500"
          data-aos-once="true"
        >
          Si quieres estar al día con mi trabajo, asegúrate de <a
            href={siteConfig.social.github}
            target="_blank"
            class="text-indigo-500 underline">seguirme en GitHub</a
          >, o puedes enviarme un <a href={`mailto:${siteConfig.mail}`} class=" underline"
            >email</a
          > y me aseguraré de responderte.
        </p>
      </section>
      </main>
    </div>
  </div>
</Layout>

<style>
.toc-sticky-wrapper {
  position: sticky;
  top: 8rem;
}
</style>
